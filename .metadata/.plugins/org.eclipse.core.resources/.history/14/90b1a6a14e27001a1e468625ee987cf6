package com.meli.currency.service;

import java.sql.Timestamp;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.meli.currency.DateHelper;
import com.meli.currency.exception.CurrencyConfigurationNotFoundException;
import com.meli.currency.model.CurrencyConversion;
import com.meli.currency.repository.CurrencyConversionRepository;


@Service
public class CurrencyService {

	@Autowired
	private CurrencyConversionRepository currencyRepo;

	public Double convertToCurrencyDefault(String name, Double amount) {
		List<CurrencyConversion> currency = currencyRepo.findByName(name);
		if(currency.isEmpty()) {
			throw new CurrencyConfigurationNotFoundException(String.format("No se encontró una configuración para el currency '%s'", name));
		}
		
		Timestamp now = DateHelper.getInstance().getNow();
		
		
		return null;
	}

}